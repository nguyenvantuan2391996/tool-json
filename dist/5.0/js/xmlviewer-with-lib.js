var globalurl="/";function fileDownloadCB(e,t){"function"!=typeof saveAs?$.loadScript("https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js",(function(){saveAs(e,t)})):saveAs(e,t)}function loadJqueryUI(e,t){var o=jQuery("<link>");o.attr({rel:"stylesheet",type:"text/css",href:"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css"}),$("head").append(o),$.loadScript("https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js",(function(){e(t)}))}function msieversion(){return!!(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))}function showProgress(){$(".some_other_box").css({width:0,display:"block"}),$(".some_other_box").animate({width:"90%",display:"block"},500)}function hideProgress(){$(".some_other_box").animate({width:"100%",display:"none"},500,(function(){$(this).hide()}))}function openFile(e,t){new AjaxUpload($("#"+e),{action:globalurl+"readfile/uploadFile",name:"userfile",onSubmit:function(e,o){var i=o[0];if("Excel"==t){if(!i.trim().startsWith("xls"))return openErrorDialog("Selected file is not Excel File"),!1}else if("Word"==t){if(!i.trim().startsWith("doc"))return openErrorDialog("Selected file is not Word File"),!1}else{if("any"!=t&&t!=i&&"txt"!=i.trim())return openErrorDialog("Selected file is not "+t+" and txt file"),!1;if("any"==t&&("jpeg"==i||"png"==i||"jpg"==i||"gif"==i||"bmp"==i||"pdf"==i||"pptx"==i||"ppt"==i))return openErrorDialog("Selected file is not supported"),!1}showProgress()},onComplete:function(t,o){"error"!=o?readFile(o,e):openErrorDialog("Error in Loading File."),hideProgress()}})}function readFile(e,t){var o="readfile/readFile";"excelTohtml"==t||"excelToxml"==t||"excelTojson"==t?(o="readfile/convertHTML",$("#fName").text(e)):"wordTohtml"==t&&(o="readfile/WordToHTML",$("#fName").text(e)),$.ajax({type:"post",url:globalurl+o,data:{fileName:e,btnID:t},success:function(o){if("error"!=o){if("excelToxml"==t)return excelTOXml(o),!1;if("excelTojson"==t)return excelToJson(o),!1;if("excelTohtml"==t||"wordTohtml"==t)return htmlOutput(o),!1;if("F2"==t)return setFileName(2,e),setToEditor2(o),!1;"F1"==t&&setFileName(1,e),setToEditor(o)}else openErrorDialog("Error in Loading File."),$("#fName").text("")},error:function(e,t,o){openErrorDialog("Failed to load data="+t),console.log(e),$("#fName").text("")}})}function getDataFromUrlId(e){$.ajax({type:"post",url:globalurl+"service/getDataFromID",dataType:"text",data:{urlid:e},success:function(e){setToEditor(e.trim()),$(".sharelinkurl").attr("st_url",window.location),$(".sharelinkurl").attr("st_title",$("#save_link_title").val())},error:function(e,t,o){openErrorDialog("Failed to load data="+t)}})}function clearEditorInput(){var e;if($("#jsData").val(""),$("#cssData").val(""),$("#tData").val(""),void 0!==editorAce&&editorAce.setValue(""),void 0!==editorResult?editorResult.setValue(""):($("#result1").html(""),$("#result").text("")),$("#result1").html(""),void 0!==editor&&void 0!==editor.set&&editor.set(),null!=e){var t=document.getElementById("result1").contentWindow.document;e="",t.open(),t.write(""),t.close()}$("#outputMsg").html("Result")}function setOutputMsg(e){$("#outputMsg").html("Result : "+e)}function openErrorDialog(e){void 0!==jQuery.ui?$("<div></div>").appendTo("#openError").html("<div>"+e+"</h5></div>").dialog({modal:!0,title:"Message",zIndex:1e4,autoOpen:!0,width:"400",resizable:!1,buttons:{Ok:function(){$(this).dialog("destroy")}}}):loadJqueryUI(openErrorDialog,e)}$(document).ready((function(){$(".btn").addClass("span11"),$("textarea").on("change paste keyup",(function(){updateCounter(this)})),$(".navtoggle").click((function(){$(".mainnav").toggle("slow"),$(".navtoggle").toggle("slow"),$(".navtoggleclose").toggle("slow"),$(".navbutton").toggle("slow")})),$(".navtoggleclose").click((function(){$(".mainnav").toggle("slow"),$(".navtoggle").toggle("slow"),$(".navbutton").toggle("slow"),$(".navtoggleclose").toggle("slow")})),(msieversion()||navigator.userAgent.toLowerCase().indexOf("firefox")>-1||/Edge\/\d./i.test(navigator.userAgent))&&$(".cblogoimage").prepend('<img src="/img/codebeautify_logo.png" alt="Code Beautify" />'),$(".close1").click((function(){$(".ui-dialog-content").dialog("destroy")})),$(".btn,.span11").on("click",(function(){1==fsr1?fullScreenRight():1==fsr&&fullScreenLeft()})),$("#more").click((function(){$("html, body").animate({scrollTop:$(".footer_container").offset().top},1e3)})),$("#back-top").hide(),$((function(){$(window).scroll((function(){$(this).scrollTop()>100?$("#back-top").fadeIn():$("#back-top").fadeOut()})),$("#back-top a").click((function(){return $("body,html").animate({scrollTop:0},800),!1}))}))})),jQuery.loadScript=function(e,t){$.ajaxSetup({cache:!0}),jQuery.ajax({url:e,dataType:"script",success:t,async:!0}),$.ajaxSetup({cache:!1})},$(document).ajaxSend((function(e,t,o){"/service/check_url"!=o.url&&("/service/wordcount"!=o.url&&"/service/saveKeywordHistory"!=o.url?showProgress():$("#counterLoader").show())})),$(document).ajaxComplete((function(e,t,o){"/service/wordcount"!=o.url?(hideProgress(),$("#path").val("")):$("#counterLoader").hide()}));var fsr=0;function fullScreenLeft(){return $(".leftThum").hide(),$(".rightThum").hide(),fullScreenBoth(),$("html, body").animate({scrollTop:$("#mainLeftDiv").offset().top-30},500),!1}function fullScreenBoth(){if(0==fsr)fsr=1,$("#fsimg").attr("title","Small Screen"),$("#mainLeftDiv").addClass("mainDivLeft"),$("#editor").css({width:"100%"}),$("#buttonDiv").css({float:"right"}),void 0!==editorResult&&editorResult.getSession().setUseWrapMode(!1),$("#fs1img1").attr("title","Small Screen"),$("#mainRightDiv").addClass("mainDivLeft"),$("#result").css({width:"100%"}),$("#mainRightDiv").css({float:"right"}),void 0!==editorResult&&editorResult.getSession().setUseWrapMode(!1),hideOtherArea(!0);else{if(fsr=0,$("#fsimg").attr("title","Full Screen"),$("#mainLeftDiv").removeClass("mainDivLeft"),$("#editor").css({width:"100%"}),$("#buttonDiv").css({float:"left"}),void 0!==editorResult){editorResult.getSession().setUseWrapMode(!0);var e=editorResult.getValue();editorResult.setValue(e)}$("#fs1img").attr("title","Full Screen"),$("#mainRightDiv").removeClass("mainDivLeft"),$("#result").css({width:"100%"}),$("#mainRightDiv").css({float:"right"}),void 0!==editorResult&&editorResult.getSession().setUseWrapMode(!0),hideOtherArea(!1)}void 0!==editorResult&&editorResult.resize(),void 0!==editorAce&&editorAce.resize()}function hideOtherArea(e){1==e?($(".infoSection").hide(),$(".footerpart").hide(),$(".footerSection").hide(),$("#buttonDiv").hide(),$(".buttonSection").hide()):($(".infoSection").show(),$(".footerpart").show(),$(".footerSection").show(),$("#buttonDiv").show(),$(".buttonSection").show())}var fsr1=0;function fullScreenRight(){return $(".leftThum").hide(),$(".rightThum").hide(),fullScreenBoth(),$("html, body").animate({scrollTop:$("#mainRightDiv").offset().top-30},500),!1}var aefsr=0;function fullScreen(){0==aefsr?(aefsr=1,$("#aefsimg").attr("title","Small Screen"),$("#editorAll").removeClass("span10"),$("#editorAll").addClass("span12"),void 0!==editorAce&&editorResult.getSession().setUseWrapMode(!1),hideOtherArea(!0)):(aefsr=0,$("#aefsimg").attr("title","Full Screen"),$("#editorAll").removeClass("span12"),$("#editorAll").addClass("span10"),void 0!==editorAce&&editorResult.getSession().setUseWrapMode(!0),hideOtherArea(!1)),void 0!==editorResult&&editorResult.resize(),void 0!==editorAce&&editorAce.resize()}function decodeSpecialCharacter(e){return e.replace(/\&amp;/g,"&").replace(/\&gt;/g,">").replace(/\&lt;/g,"<").replace(/\&quot;/g,'"')}function loadFromURL(e){if(void 0!==jQuery.ui){$("#path").val("");var t=$("#sampleurl").val();t?$("#loadUrlPathDiv a").click((function(){$("#path").val(t)})):$("#sampleurlindialog").hide(),$("#loadUrlPathDiv").removeClass("hide"),$("#loadUrlPathDiv").dialog({modal:!0,title:"Enter Url",zIndex:1e4,autoOpen:!0,width:"400",resizable:!1,buttons:{Load:function(){var t=$("#path").val();t.trim().length>5&&loadUrl(t,e),$(this).dialog("destroy"),$("#loadUrlPathDiv").addClass("hide")},Cancel:function(e,t){$("#openError").html(""),$(this).dialog("destroy"),$("#loadUrlPathDiv").addClass("hide")}}})}else loadJqueryUI(loadFromURL,e)}function loadUrl(e,t){$.ajax({type:"post",url:"//codebeautify.com/URLService",dataType:"text",data:{path:e},success:function(o){try{"RSS"==t&&processRSS(o),setToEditor(o),updateTitleForURL("URL: "+e)}catch(e){openErrorDialog("Invalid "+t+" Data Or Invalid "+t+" URL.")}},error:function(e,t,o){openErrorDialog("Failed to load data="+t)}})}function save(e,t){var o=$("#save_link_title").val(),i=$("#save_link_description").val(),n=$("#save_link_tags").val().trim();if(o.toLowerCase().includes("href=")||i.toLowerCase().includes("href=")||n.toLowerCase().includes("href="))alert("This data form doest not support URL input:");else if(o.toLowerCase().includes("crack")||i.toLowerCase().includes("crack")||n.toLowerCase().includes("crack"))alert("This data form doest not support this input, Please update the text and try again:");else{var r=$("#viewName").val().trim();"jsonvalidate"==r?r="jsonvalidator":"xmlvalidate"==r&&(r="xmlvalidator"),$.ajax({url:"/service/save",dataType:"text",type:"post",data:{content:e,viewname:r,title:o,desc:i,tags:n},success:function(e){var t="https://"+location.host+"/"+r+"/"+e;t=t.replace(" ",""),$("#subTitle").find("h4").remove(),$("#permalink").find("a").remove(),$("#subTitle").append("<h4 style='padding-left:10px'>"+o+"</h4>"),$("#permalink").append("<a href="+t+" style='float:left;width:100%;'>"+t+"</a>"),$(".sharelinkurl").attr("st_url",t),$(".sharelinkurl").attr("st_title",o),$("#permalink").parent().show()},error:function(e,t,o){openErrorDialog("Error in data saving")}})}}function update(e,t){$.ajax({url:"/service/update",dataType:"text",type:"post",data:{id:$("#edit_link_id").val(),content:e,viewname:$("#viewName").val().trim(),title:$("#save_link_title").val(),desc:$("#save_link_description").val(),tags:$("#save_link_tags").val().trim(),urlid:$("#fContent").val()},success:function(e){$("#subTitle").find("h4").remove(),$("#permalink").find("a").remove(),$("#subTitle").append("<h4 style='padding-left:10px'>"+$("#save_link_title").val()+"</h4>"),$("#permalink").append("<a href="+location.href+">"+location.href+"</a>"),$(".sharelinkurl").attr("st_url",location.href),$(".sharelinkurl").attr("st_title",$("#save_link_title").val()),$("#permalink").parent().show(),t&&shareLink(location.href)},error:function(e,t,o){openErrorDialog("Error in data updating")}})}function shareLink(e){"google"==getProvider()?window.location.href="https://plus.google.com/share?url="+e:window.location.href="https://www.facebook.com/sharer/sharer.php?u="+e}function openSavedialog(e){if(void 0!==jQuery.ui){var t=$("#isLogin").val(),o="";if("cssvalidate"==$("#viewName").val().trim())o=$("#cssData").val();else if("jsvalidate"==$("#viewName").val().trim())o=$("#jsData").val();else if("wordcounter"==$("#viewName").val().trim())o=$("#tData").val();else if("alleditor"==$("#viewName").val().trim()){if(null==editorAce.getValue()&&0==editorAce.getValue().trim().length)return flag=!1,!1;o=editorAce.getValue()+"|"+$("#editorLanguage").val()}else o="undefined"!=typeof JSONEditor?editor.getText():void 0!==editorAce?editorAce.getValue():$("#input").val();null!=o&&""!=o&&o.trim().length>0?($("#savedialog").removeClass("hide"),$("#savedialog").dialog({modal:!0,title:"Save Online / Download as File",zIndex:1e4,autoOpen:!1,width:"30%",resizable:!1,buttons:{Download:function(){downloadData(),$(this).dialog("destroy")},"Save Online":function(){var i=$("#save_link_title").val();null!=i&&0!=i.trim().length?($("#savedialog").dialog("close"),$("#openError").html(""),""==$("#edit_link_id").val()||"0"==$("#edit_link_id").val()?(save(o,e),$(this).dialog("destroy")):"1"==t?($("#savedialog").dialog("option","disabled",!0),$("<div></div>").appendTo("#openError").html("<div>Do you want to save as new file..?</h5></div>").dialog({modal:!0,title:"Confirm",zIndex:1e4,autoOpen:!0,width:"30%",resizable:!1,buttons:{Yes:function(){$("#openError").html(""),save(o,e),$(this).dialog("destroy"),$("#savedialog").dialog("destroy")},No:function(t,i){$("#openError").html(""),update(o,e),$(this).dialog("destroy"),$("#savedialog").dialog("destroy"),$("#savedialog").removeClass("hide")},Close:function(e,t){$("#openError").html(""),$(this).dialog("destroy"),$("#savedialog").dialog("open")}}})):($("#openError").html(""),save(o,e),$(this).dialog("destroy"))):openErrorDialog("Please Enter Title")},Cancel:function(e,t){$("#openError").html(""),$(this).dialog("destroy"),$("#savedialog").addClass("hide")}}}),$("#savedialog").dialog("open")):openErrorDialog("No Data in Input view")}else loadJqueryUI(openSavedialog,e)}function createEditor(e,t){null!=e&&null!=e&&((editorAce=ace.edit("editor")).getSession().setMode("ace/mode/"+e),editorAce.getSession().setUseWrapMode(!0),editorAce.on("change",(function(){var e=editorAce.getValue(),t=e.trim().replace(/\s+/gi," ").split(" ").length;$("#editor1TC").text(e.length),$("#editor1TW").text(t);var o=e.split(/\r\n|\r|\n/).length;$("#editor1TL").text(o);var i=countBytes(e);$("#editor1Size").text(formateByteCount(i)),"tableizer"==$("#viewName").val()&&hideTableizer(),savetoLocalStorage(e)})),$(".editorCounterSection").show()),null!=t&&null!=t&&((editorResult=ace.edit("result")).getSession().setMode("ace/mode/"+t),editorResult.getSession().setUseWrapMode(!0),editorResult.on("change",(function(){var e=editorResult.getValue(),t=e.trim().replace(/\s+/gi," ").split(" ").length;$("#editor2TC").text(e.length),$("#editor2TW").text(t);var o=e.split(/\r\n|\r|\n/).length;$("#editor2TL").text(o);var i=countBytes(e);$("#editor2Size").text(formateByteCount(i))})),$(".editorCounterSection").show())}function updateCounter(e){var t=$(e).val(),o=t.trim().replace(/\s+/gi," ").split(" ").length;$("#editor1TC").text(t.length),$("#editor1TW").text(o);var i=t.split(/\r\n|\r|\n/).length;$("#editor1TL").text(i);var n=countBytes(t);$("#editor1Size").text(formateByteCount(n)),$(".editorCounterSection").show()}function countBytes(e,t){(t=t||{}).lineBreaks=t.lineBreaks||1,t.ignoreWhitespace=t.ignoreWhitespace||!1;var o=e.length,i=o-e.replace(/[\u0100-\uFFFF]/g,"").length,n=o-e.replace(/(\r?\n|\r)/g,"").length;return t.ignoreWhitespace?(e=e.replace(/(\r?\n|\r|\s+)/g,"")).length+i:o+i+Math.max(0,t.lineBreaks*(n-1))}function formateByteCount(e){for(var t=0;e>1024;)e/=1024,t++;return(e=Math.round(100*e)/100)+" "+(t=["","K","M","G","T"][t])+"B"}function setViewTitle(e,t,o){null!=t&&1==t?$("#moreMenu").show():$("#moreMenu").hide(),null!=o&&1==o?$("#savebtn").show():$("#savebtn").hide()}function createFile(e,t){var o="";(null==t?(void 0!==editorResult&&(o=editorResult.getValue()),0==o.trim().length&&void 0!==editor&&(o=editor.getText()),0==o.trim().length&&void 0!==editorAce&&(o=editorAce.getValue())):(o=$("#"+t).text(),"html"==e&&(o=vkbeautify.xml(o))),"converted"==e&&(e=converted),0!=o.trim().length)?fileDownloadCB(new Blob([""+o],{type:"text/plain;charset=utf-8"}),"codebeautify."+e):openErrorDialog("Sorry Result is Empty")}function getJsonSampleData(){var e='{"employees":{"employee":[{"id":"1","firstName":"Tom","lastName":"Cruise","photo":"https://pbs.twimg.com/profile_images/735509975649378305/B81JwLT7.jpg"},{"id":"2","firstName":"Maria","lastName":"Sharapova","photo":"https://pbs.twimg.com/profile_images/786423002820784128/cjLHfMMJ_400x400.jpg"},{"id":"3","firstName":"James","lastName":"Bond","photo":"https://pbs.twimg.com/profile_images/664886718559076352/M00cOLrh.jpg"}]}}';setToEditor(e=JSON.stringify($.parseJSON(e),null,2)),defaultAction(),$(".sharelinkurl").attr("st_url",window.location),$(".sharelinkurl").attr("st_title",$("#save_link_title").val())}function getXMLSampleData(e){var t='<?xml version="1.0" encoding="UTF-8" ?>   <employees>         <employee>             <id>1</id>             <firstName>Leonardo</firstName>             <lastName>DiCaprio</lastName>             <photo>http://1.bp.blogspot.com/-zvS_6Q1IzR8/T5l6qvnRmcI/AAAAAAAABcc/HXO7HDEJKo0/s200/Leonardo+Dicaprio7.jpg</photo>         </employee>         <employee>             <id>2</id>             <firstName>Johnny</firstName>             <lastName>Depp</lastName>             <photo>http://4.bp.blogspot.com/_xR71w9-qx9E/SrAz--pu0MI/AAAAAAAAC38/2ZP28rVEFKc/s200/johnny-depp-pirates.jpg</photo>         </employee>         <employee>             <id>3</id>             <firstName>Hritik</firstName>             <lastName>Roshan</lastName>             <photo>http://thewallmachine.com/files/1411921557.jpg</photo>         </employee>    </employees>  ';if(null!=e&&e)return vkbeautify.xml(t);setToEditor(vkbeautify.xml(t)),$(".sharelinkurl").attr("st_url",window.location),$(".sharelinkurl").attr("st_title",$("#save_link_title").val())}function jsonTocsvbyjson(e,t,o){var i;try{i=jsonToCsv(e,",",!0,!1,!1)}catch(e){return console.log(e),null!=t&&t?openErrorDialog("Error in Convert :"+e):editorResult.setValue("Error in Convert"),!1}if(null!=t&&t)return i;editorResult.setValue(i)}function csvToExcel(e,t,o,i){arr=[],flag=!0;var n=t.toString().replace(/,/g,"\t"),r="";if($.each(e,(function(e,t){for(var o in t)r+=t[o]+"\t";r+="\n"})),null!=o&&o)return console.log(n+"\n"+r),n+"\n"+r;editorResult.setValue(n+"\n"+r)}function jsonDataValidate(e){try{$.parseJSON(e)}catch(e){return console.log(e),!1}return!0}function updateProile(){var e=$("#profilename").val();if(null==e||0==e.trim().length)return openErrorDialog("Name is required. please enter name"),!1;$.ajax({url:"/service/updateProfile",dataType:"text",type:"post",data:{name:e},success:function(t){$("#usernamelable").text(e.substring(0,5)+".."),document.cookie="loggedinuser="+e,openErrorDialog("Your Profile updated successfully")}})}function savetoLocalStorage(e){localStorage&&($("#viewName").val().toLowerCase().startsWith("excel")||localStorage.setItem($("#viewName").val(),e))}function setFromLocalStorage(){if(localStorage){var e=localStorage.getItem($("#viewName").val());null!=e&&0!=e.trim().length&&"function"==typeof setToEditor&&setToEditor(e)}}function toHTML(e,t,o){var i="";if(null==e?(i=editorAce.getValue(),t="csv"):i=e,0!=i.trim().length){var n="",r="<tr>",a=Papa.parse(i),s=a.data,l=s.slice(1,s.length);l.sort((function(e,t){return t.length-e.length})),0==l.length&&(l=a.data);for(var c=0;c<l[0].length;c++)c<s[0].length?r+="<th>"+s[0][c]+"</th>":r+="<th>COLUMN"+(c+1)+"</th>";r+="</tr>";for(var d=1;d<s.length;d++){n+="<tr>";for(c=0;c<l[0].length;c++)c<s[d].length?n+="<td>"+s[d][c]+"</td>":n+="<td>&nbsp</td>";n+="</tr>"}var p="<table border=1><thead>\n"+r+"</thead><tbody>\n"+n+"</tbody></table>";if(void 0!==o&&1==o)return p;htmlOutput(p,t)}else openErrorDialog("Sorry Input is Empty")}function loadNewView(){var e=$("#viewName").val().trim();localStorage.removeItem(e),window.location.href=window.location.origin+"/"+e}function getSampleData(){var e=$("#viewName").val().trim();if("jsonviewer"==e||"json-to-base64-converter"==e||"json-escape-unescape"==e||"jsontoxml"==e||"json-to-csv"==e||"online-json-editor"==e||"json-to-yaml"==e||"json-to-html-converter"==e||"json-to-tsv-converter"==e||"jsonminifier"==e||"json-to-java-converter"==e||"json-to-url-encode"==e)getJsonSampleData();else if("un-google-link"==e)setToEditor("https://www.google.co.in/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&uact=8&ved=0ahUKEwjB7JO54LDJAhULV44KHQQYB1cQFggbMAA&url=http%3A%2F%2Fcodebeautify.org%2F&usg=AFQjCNG_DKhs4g3mbjzuEWxEa2aHGfqYgw&sig2=a54qV321O8wYGpJ2kbfCNg&bvm=bv.108194040,d.c2E");else if("xmlviewer"==e||"xml-to-tsv-converter"==e||"online-xml-editor"==e||"xmltojson"==e||"xml-to-yaml"==e||"xml-to-csv-converter"==e||"xml-to-html-converter"==e||"xml-to-java-converter"==e)getXMLSampleData();else if("text-to-html-converter"==e)setToEditor("The five-paragraph essay is a format of essay having five paragraphs: one introductory paragraph, three body paragraphs with support and development, and one concluding paragraph");else if("sql-escape-unescape"==e)setToEditor("select * from table where value = 'in single quote '' is offensive'");else if("word-to-html-converter"==e)setToEditor("<h1><span style='color: #ff0000;'><strong>Hello Codebeautify</strong></span></h1>");else if("json-diff"==e)loadJsonDiffSample();else if("rssviewer"!=e)$.ajax({type:"post",url:globalurl+"SampleData",dataType:"text",data:{viewname:e},success:function(t){t=t.trim(),"Xpath-Tester"==e?$("#xmlString").val(t):"base64-to-image-converter"==e?($("#base64string").val(t),setBase64ToImage()):setToEditor(t)},error:function(e,t,o){openErrorDialog("Failed to load data="+t)}});else{$.ajax({type:"post",url:"//codebeautify.com/URLService",dataType:"text",data:{path:"http://rss.cnn.com/rss/edition_world.rss"},success:function(e){processRSS(e.trim());try{editorAce.setValue(e),editorAce.getSession().setUseWrapMode(!0),FormatXML(),editorAce.clearSelection()}catch(e){openErrorDialog("invalid XML")}},error:function(e){openErrorDialog("Failed to load data")}})}$(".sharelinkurl").attr("st_url",window.location),$(".sharelinkurl").attr("st_title",$("#save_link_title").val())}function getCopyText(){var e="";return e=editorResult.getValue(),$("#json").is(":visible")&&(e=editor.getText()),e}function saveRecentlyUsed(){if(localStorage){var e=localStorage.getItem("recentUsedStack");if(createRecentUsedLink(e=null==e||void 0===e?[]:JSON.parse(e)),checkRecentUsedNotUnique(e))return!1;null!=e&&void 0!==e&&e.length>=10&&e.shift();var t={title:$("#subTitle").text(),view:$("#viewName").val(),date:new Date};e.push(t),localStorage.setItem("recentUsedStack",JSON.stringify(e))}}function checkRecentUsedNotUnique(e){for(var t=0;t<e.length;t++)if(e[t].view==$("#viewName").val())return e[t].date=new Date,localStorage.setItem("recentUsedStack",JSON.stringify(e)),!0;return!1}function createRecentUsedLink(e){var t=[];t.push("<h3>Recently Used Tools</h3>"),t.push("<ul>");for(var o=e.length-1;o>=0;o--){var i=e[o].title,n=e[o].view;null!=i&&0!=i.trim().length||(i=n.toUpperCase()),t.push("<li><a href=/"+n+">"+i+"</a></li>")}t.push("</ul>"),$("#relatedTools").append(t.join(""))}function setURLParameters(){$.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null:decodeURI(t[1])||0}}function setDefaultData(){createFavouriteImg(),saveRecentlyUsed(),setURLParameters();var e=null;if(null==$.urlParam("url")){var t=null;if(null==$.urlParam("input")){if($("#fContent").val())var o=$("#fContent").val().trim();if($("#inputvalue").val())var i=$("#inputvalue").val().trim();if($("#fTitle").val())var n=$("#fTitle").val();if($("#fValue").val())var r=$("#fValue").val().trim();var a=$("#viewName").val().trim();null!=i&&0!=i.trim().length?setToEditor(i):null!=o&&0!=o.trim().length?("sampleData"==o?getSampleData():"screenfly"!=a&&"send-snap-message"!=a&&getDataFromUrlId(o),updateTitleForURL(n)):null==r||0==r.length?setFromLocalStorage():FormatCSS_JS()}else null!=(t=$.urlParam("input"))&&0!=t.length&&(n="Input Parameter",$("#subTitle").append("<h4 style='padding-left:10px'>"+n+"</h4>"),setToEditor(decodeURIComponent(t)))}else null!=(e=$.urlParam("url"))&&0!=e.length&&(n="URL: "+e,$("#subTitle").append("<h4 style='padding-left:10px'>"+n+"</h4>"),loadUrl(e,a))}function updateTitleForURL(e){$("#subTitle").find("h4").remove(),$("#subTitle").append("<h4 style='padding-left:10px'>"+e+"</h4>"),$("#plinkBtn").parent().append('<input type="button" value="New" class="btn btn-inverse span11" onclick="loadNewView()" style="width: 19% !important; padding: 6px;float:right;margin-right:2%">'),$("#plinkBtn").val("Fork"),$("#plinkBtn").parent().show()}function conditionalCode(){var e=$("#viewName").val().trim();void 0!==editorAce&&(editorAce.clearSelection(),editorAce.getSession().setUseWorker(!1)),void 0!==editorResult&&(editorResult.clearSelection(),editorResult.getSession().setUseWorker(!1)),$("#fs").text(""),$("#fs").html("<span id='fsimg' class='icon-enlarge2'></span>"),$("#fs").css({"margin-left":"5px"}),$("#fs1").text(""),$("#fs1").html("<span id='fs1img' class='icon-enlarge2'></span>"),$("#clearImg").html("<a href='#' id='sampleDataBtn' style='margin-right: 5px;' onclick='getSampleData()'>sample</a><b onclick='clearEditorInput()' style='color: red;'><span class='icon-bin'></span></b>"),$(".btn").addClass("span11"),$("#temp").removeClass("span11"),$("#clearImg").parent().append("<a href='#copy1' id='copy-dynamic1' style='float: right;  margin-right: 7px;' title='Copy'><span class='icon-copy'></span></a>"),$("#fs1").parent().append("<a href='#copy' id='copy-dynamic' style='float: right;  margin-right: 7px;' title='Copy'><span class='icon-copy'></span></a>"),$("#editor").css({"font-size":"small"}),$("#result").css({"font-size":"small"}),$("#result1").css({"font-size":"small"}),$(".stButton").css({display:"none!important"}),$("#me").val("Browse"),"alleditor"==e&&($("#plinkBtn").parent().append("<a href='#copy' id='copy-dynamic1' class='btn allEditorpermalinkButton btn-inverse'style='float: right;  margin-right: 2%;width:19%;position:relative;padding:6px;' title='copy to clipborad'>Copy</a>"),$("#savebtn").show()),"excel-to-html"!=e&&"lorem-ipsum"!=e||($("#sampleDataBtn").hide(),$("#savebtn").hide(),$("#permalinkDiv").hide()),"code"!=e&&"file-difference"!=e&&"encrypt-decrypt"!=e&&"credit-card-validate"!=e&&"image-to-base64-converter"!=e&&"date-time-calculater"!=e&&"credit-card-fake-number-generator"!=e&&"api-test"!=e&&($("#copy-dynamic1").click((function(){copyToClipboard("word-to-html-converter"!=e?editorAce.getValue():$("#wordInput").text())})),$("#copy-dynamic").click((function(){copyToClipboard(editorResult.getValue())})),$("#copy-dynamic2").click((function(){copyToClipboard($("#output").val())})))}function copyToClipboard(e){var t=$("<textarea>");$("body").append(t),t.val(e).select(),document.execCommand("copy"),t.remove(),$("#copy-note-msg").html("Copied to Clipboard."),$("#copy-note-msg").removeClass("hide"),$("#copy-note-msg").fadeIn().delay(1e4).fadeOut()}function createFavouriteImg(){$("#favToolImg").remove();var e=$("#isFavTool").val(),t=$("<i>");t.attr("id","favToolImg"),$(t).css("cursor","pointer"),t.attr("aria-hidden",!0),"fav"==e?(t.addClass("icon-star-full"),t.attr("title","make it not favourite")):(t.addClass("icon-star-empty"),t.attr("title","make it favourite"),0==e.trim().length&&$("#isFavTool").val("not-fav")),$(t).click((function(){$("#notloggedin").is(":visible")?login():saveMyfavourite()})),$("#subTitle").append(t)}function saveMyfavourite(){$.ajax({url:"/service/saveFavouriteTool",dataType:"text",type:"post",data:{view:$("#viewName").val(),title:$("#subTitle").text(),isFav:$("#isFavTool").val()},success:function(e){var t="This tool added to favourite.";$("#favToolImg").attr("src","../img/icons/fav.png"),"fav"==$("#isFavTool").val()?(t="This tool remove from favourite.",$("#favToolImg").attr("src","../img/icons/not-fav.png"),$("#isFavTool").val("not-fav")):$("#isFavTool").val("fav"),$("#copy-note-msg").html(t),$("#copy-note-msg").removeClass("hide"),$("#copy-note-msg").fadeIn().delay(1e4).fadeOut()},error:function(e,t,o){openErrorDialog("Failed to save favourite tool, Pls Try Again")}})}function isfavourite(){$.ajax({url:"/service/isFavouriteTool",dataType:"text",type:"post",data:{view:$("#viewName").val()},success:function(e){$("#isFavTool").val(e),createFavouriteImg()},error:function(e,t,o){console.log(e)}})}globalurl="/";function manageMenuAndSession(){var e=getCookie("loggedinuser"),t=getCookie("loggedinuserid");""!=e&&""!=t?($("#usernamelable").text(e.substring(0,5)+".."),$("#notloggedin").hide(),$("#loggedin").show(),updateUserSession(t)):$("#loggedin").hide()}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var n=o[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return(t=n.substring(t.length,n.length)).replace(/\+/g," ")}return""}function updateUserSession(e){$.ajax({type:"post",url:"/service/updateSession",data:{id:e},success:function(e){}})}function logout(){document.cookie="loggedinuser=; expires=Thu, 01 Jan 1970 00:00:00 UTC",null!=getProvider()&&hello(getProvider()).logout().then((function(){}),(function(e){})),$.ajax({url:"/service/logout",success:function(e){window.location.href="/codebeautify_redirect"}})}function toggleOpenClass(){document.getElementById("myDropdown").classList.toggle("show")}$(document).ready((function(){$(".close1").click((function(){$(".ui-dialog-content").dialog("destroy")})),$("#more").click((function(){$("html, body").animate({scrollTop:$(".footer_container").offset().top},1e3)})),$("#back-top").hide(),$((function(){$(window).scroll((function(){$(this).scrollTop()>100?$("#back-top").fadeIn():$("#back-top").fadeOut()})),$("#back-top a").click((function(){return $("body,html").animate({scrollTop:0},800),!1}))})),manageMenuAndSession()})),window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,o=document.getElementsByClassName("dropdown-content");for(t=0;t<o.length;t++){var i=o[t];i.classList.contains("show")&&i.classList.remove("show")}}},function(){var e=document,t=window;function o(e,o,i){if(t.addEventListener)e.addEventListener(o,i,!1);else if(t.attachEvent){e.attachEvent("on"+o,(function(){i.call(e,t.event)}))}}var i,n=(i=e.createElement("div"),function(e){i.innerHTML=e;var t=i.childNodes[0];return i.removeChild(t),t});function r(e,t){(function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))})(e,t)||(e.className+=" "+t)}function a(e,t){var o=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(o," ")}if(document.documentElement.getBoundingClientRect)var s=function(e){var t=e.getBoundingClientRect(),o=e.ownerDocument,i=o.body,n=o.documentElement,r=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,s=1;if(i.getBoundingClientRect){var l=i.getBoundingClientRect();s=(l.right-l.left)/i.clientWidth}return s>1&&(r=0,a=0),{top:t.top/s+(window.pageYOffset||n&&n.scrollTop/s||i.scrollTop/s)-r,left:t.left/s+(window.pageXOffset||n&&n.scrollLeft/s||i.scrollLeft/s)-a}};else s=function(e){if(t.jQuery)return jQuery(e).offset();var o=0,i=0;do{o+=e.offsetTop||0,i+=e.offsetLeft||0}while(e=e.offsetParent);return{left:i,top:o}};var l,c=(l=0,function(){return"ValumsAjaxUpload"+l++});function d(e){return e.replace(/.*(\/|\\)/,"")}function p(e){return/[.]/.exec(e)?/[^.]+$/.exec(e.toLowerCase()):""}Ajax_upload=AjaxUpload=function(t,o){var i;if(t.jquery?t=t[0]:"string"==typeof t&&/^#.*/.test(t)&&(t=t.slice(1)),"string"==typeof(i=t)&&(i=e.getElementById(i)),t=i,this._input=null,this._button=t,this._disabled=!1,this._submitting=!1,this._justClicked=!1,this._parentDialog=e.body,window.jQuery&&jQuery.ui&&jQuery.ui.dialog){var n=jQuery(this._button).parents(".ui-dialog");n.length&&(this._parentDialog=n[0])}for(var r in this._settings={action:"upload.php",name:"userfile",data:{},autoSubmit:!0,responseType:!1,onChange:function(e,t){},onSubmit:function(e,t){},onComplete:function(e,t){}},o)this._settings[r]=o[r];this._createInput(),this._rerouteClicks()},AjaxUpload.prototype={setData:function(e){this._settings.data=e},disable:function(){this._disabled=!0},enable:function(){this._disabled=!1},destroy:function(){this._input&&(this._input.parentNode&&this._input.parentNode.removeChild(this._input),this._input=null)},_createInput:function(){var t=this,i=e.createElement("input");i.setAttribute("type","file"),i.setAttribute("name",this._settings.name);var n={position:"absolute",margin:"-5px 0 0 -175px",padding:0,width:"220px",height:"30px",fontSize:"14px",opacity:0,cursor:"pointer",display:"none",zIndex:2147483583};for(var r in n)i.style[r]=n[r];"0"!==i.style.opacity&&(i.style.filter="alpha(opacity=0)"),this._parentDialog.appendChild(i),o(i,"change",(function(){var e=d(this.value);0!=t._settings.onChange.call(t,e,p(e))&&t._settings.autoSubmit&&t.submit()})),o(i,"click",(function(){t.justClicked=!0,setTimeout((function(){t.justClicked=!1}),1e3)})),this._input=i},_rerouteClicks:function(){var t,i=this,n={top:0,left:0},l=!1;o(i._button,"mouseover",(function(o){var r,a,c,d;i._input&&!l&&(l=!0,r=i._button,d=s(r),a=d.left,c=d.top,t={left:a,right:a+r.offsetWidth,top:c,bottom:c+r.offsetHeight},i._parentDialog!=e.body&&(n=s(i._parentDialog)))})),o(document,"mousemove",(function(o){var s=i._input;if(s&&l){if(i._disabled)return a(i._button,"hover"),void(s.style.display="none");var c=function(t){if(!t.pageX&&t.clientX){var o=1,i=document.body;if(i.getBoundingClientRect){var n=i.getBoundingClientRect();o=(n.right-n.left)/i.clientWidth}return{x:t.clientX/o+e.body.scrollLeft+e.documentElement.scrollLeft,y:t.clientY/o+e.body.scrollTop+e.documentElement.scrollTop}}return{x:t.pageX,y:t.pageY}}(o);c.x>=t.left&&c.x<=t.right&&c.y>=t.top&&c.y<=t.bottom?(s.style.top=c.y-n.top+"px",s.style.left=c.x-n.left+"px",s.style.display="block",r(i._button,"hover")):(l=!1,i.justClicked||(s.style.display="none"),a(i._button,"hover"))}}))},_createIframe:function(){var t=c(),o=n('<iframe src="javascript:false;" name="'+t+'" />');return o.id=t,o.style.display="none",e.body.appendChild(o),o},submit:function(){var t=this,i=this._settings;if(""!==this._input.value){var n=d(this._input.value);if(0!=i.onSubmit.call(this,n,p(n))){var r=this._createIframe(),a=this._createForm(r);a.appendChild(this._input),a.submit(),e.body.removeChild(a),a=null,this._input=null,this._createInput();var s=!1;o(r,"load",(function(o){if("javascript:'%3Chtml%3E%3C/html%3E';"!=r.src&&"javascript:'<html></html>';"!=r.src){var a=r.contentDocument?r.contentDocument:frames[r.id].document;if(!(a.readyState&&"complete"!=a.readyState||a.body&&"false"==a.body.innerHTML)){if(a.XMLDocument)l=a.XMLDocument;else if(a.body)l=a.body.innerHTML,i.responseType&&"json"==i.responseType.toLowerCase()&&(a.body.firstChild&&"PRE"==a.body.firstChild.nodeName.toUpperCase()&&(l=a.body.firstChild.firstChild.nodeValue),l=l?window.eval("("+l+")"):{});else var l=a;i.onComplete.call(t,n,l),s=!0,r.src="javascript:'<html></html>';"}}else s&&setTimeout((function(){e.body.removeChild(r)}),0)}))}else e.body.removeChild(this._input),this._input=null,this._createInput()}},_createForm:function(t){var o=this._settings,i=n('<form method="post" enctype="multipart/form-data"></form>');for(var r in i.style.display="none",i.action=o.action,i.target=t.name,e.body.appendChild(i),o.data){var a=e.createElement("input");a.type="hidden",a.name=r,a.value=o.data[r],i.appendChild(a)}return i}}}(),
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*  
* Version - 0.99.00.beta 
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
* 
* MIT license:
*   http://www.opensource.org/licenses/mit-license.php
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function(){function e(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e=parseInt(e)){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}var o=["\n"];for(ix=0;ix<100;ix++)o.push(o[ix]+t);return o}function t(){this.step="\t",this.shift=e(this.step)}function o(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function i(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}t.prototype.xml=function(t,o){var i=t.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),n=i.length,r=!1,a=0,s="",l=0,c=o?e(o):this.shift;for(l=0;l<n;l++)i[l].search(/<!/)>-1?(s+=c[a]+i[l],r=!0,(i[l].search(/-->/)>-1||i[l].search(/\]>/)>-1||i[l].search(/!DOCTYPE/)>-1)&&(r=!1)):i[l].search(/-->/)>-1||i[l].search(/\]>/)>-1?(s+=i[l],r=!1):/^<\w/.exec(i[l-1])&&/^<\/\w/.exec(i[l])&&/^<[\w:\-\.\,]+/.exec(i[l-1])==/^<\/[\w:\-\.\,]+/.exec(i[l])[0].replace("/","")?(s+=i[l],r||a--):i[l].search(/<\w/)>-1&&-1==i[l].search(/<\//)&&-1==i[l].search(/\/>/)?s=s+=r?i[l]:c[a++]+i[l]:i[l].search(/<\w/)>-1&&i[l].search(/<\//)>-1?s=s+=r?i[l]:c[a]+i[l]:i[l].search(/<\//)>-1?s=s+=r?i[l]:c[--a]+i[l]:i[l].search(/\/>/)>-1?s=s+=r?i[l]:c[a]+i[l]:i[l].search(/<\?/)>-1||i[l].search(/xmlns\:/)>-1||i[l].search(/xmlns\=/)>-1?s+=c[a]+i[l]:s+=i[l];return"\n"==s[0]?s.slice(1):s},t.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},t.prototype.css=function(t,o){var i=t.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),n=i.length,r=0,a="",s=0,l=o?e(o):this.shift;for(s=0;s<n;s++)/\{/.exec(i[s])?a+=l[r++]+i[s]:/\}/.exec(i[s])?a+=l[--r]+i[s]:(/\*\\/.exec(i[s]),a+=l[r]+i[s]);return a.replace(/^\n{1,}/,"")},t.prototype.sql=function(t,n){var r=t.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,s=[],l=0,c=this.step,d=0,p="",u=0,f=n?e(n):this.shift;for(u=0;u<a;u++)s=u%2?s.concat(r[u]):s.concat(i(r[u],c));for(a=s.length,u=0;u<a;u++){d=o(s[u],d),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[u])&&(s[u]=s[u].replace(/\,/g,",\n"+c+c)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[u])&&(s[u]=s[u].replace(/\,/g,",\n"+c+c)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[u])?p+=f[++l]+s[u]:/\'/.exec(s[u])?(d<1&&l&&l--,p+=s[u]):(p+=f[l]+s[u],d<1&&l&&l--)}return p=p.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},t.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},t.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},t.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},t.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},window.vkbeautify=new t}(),function(e){function t(t){var o=[];return t.parents("li").addBack().each((function(){var t=e(this).children(".LIText").children(".node").text(),i=t,n=e(this).prevAll().filter((function(){return e(this).children(".LIText").children(".node").text()==t})).length+1;n>1&&(i+="["+n+"]"),o.push(i)})),o.join("/")}XMLTree=function(o,i){XMLTree.prototype.postBuild=function(){if(o.subTreeBranches&&(!0===o.subTreeBranches?this.tree.addClass("subTreeRequestsOnAllNodes"):this.tree.find(o.subTreeBranches).addClass("subTreeNode")),this.tree.delegate(".plusMin","click",(function(i){i.stopPropagation();var n=e(this).parent().children("ul"),r=n.filter(":hidden").length||!n.length?"closed":"open",a=t(e(this).parent()),s=e(this).parent();if("closed"==r?n.show():n.hide(),o.plusMinCallback&&o.plusMinCallback(s,a,i,r),o.subTreeBranches&&(!0===o.subTreeBranches||e(this).parent().is(".subTreeNode"))&&o.subTreeRequest&&"closed"==r&&!s.data("subTreeDataFetched")){var l=o.subTreeRequest(s,a,i,r);if(l&&"string"==typeof l){var c=new XMLTree(e.extend(o,{fpath:l,container:s}),!0);c&&(s.data("subTreeDataFetched",!0),c.show())}}if(e(this).html("closed"==r?"-":"+").removeClass("expanded collapsed").addClass("closed"==r?"expanded":"collapsed"),!o.noURLTracking){var p=[];d.tree.find("ul:visible").filter((function(){return!e(this).find("ul:visible").length})).each((function(){var t=[];e(this).parents("li").each((function(){t.unshift(e(this).index())})),p.push(t.join(","))}))}})),o.clickCallback&&this.tree.delegate(".LIText","click",(function(i){var n=e(this).closest("li");o.clickCallback(n,t(n),i)})),o.hideAttrs&&!o.subTree&&this.tree.addClass("hideAttrs"),o.hideNodeNames&&!o.subTree&&this.tree.addClass("hideNodeNames"),o.renderCallback&&o.renderCallback(this.tree,this),i=new RegExp("#tree"+this.instanceID+":([0-9,-|]+);").exec(location.hash)){var i=i[1].split("|");for(var n in i){var r=i[n].split(","),a=[];for(var s in r)a.push("li:eq("+r[s]+") > ul");this.tree.find(a.join(" > ")).parents("ul").addBack().show().each((function(){e(this).parent().children(".plusMin").html("-")}))}}else this.tree.find(".currSel").parentsUntil(".xmltree").show()};var n=/^https?:\/\/\S+$/;if(XMLTree.prototype.isUrl=function(e){return("string"==typeof e||e instanceof String)&&n.test(e)},XMLTree.prototype.onOver=function(t){this.isUrl(e(t).text())&&e(t).tooltipster({content:"<img style='width:200px !important;height:200px !important;' src="+e(t).text()+">",position:"right",contentAsHTML:!0})},XMLTree.prototype.delve=function(t){var i=t[0].tagName.replace(new RegExp("_"+c+"$","i"),"").toLowerCase();(this.delve_nextAppendTo?this.delve_nextAppendTo:this.tree).append(a=e("<li>").addClass(i).append(LITxtHolder=e("<span>").addClass("LIText")).append(ul=e("<ul>"))),a.append(e("<span>",{html:o.startExpanded?"-":"+"}).addClass("plusMin collapsed"));var n=t[0].attributes;if(o.attrsAsClasses)for(var r=0;r<n.length;r++)(!0===o.attrsAsClasses||"string"==typeof o.attrsAsClasses&&o.attrsAsClasses==n[r].name||o.attrsAsClasses instanceof Array&&-1!=e.inArray(n[r].name,o.attrsAsClasses))&&a.addClass(n[r].name+"-"+n[r].value+" "+n[r].name);if(o.attrsAsData)for(r=0;r<n.length;r++)(!0===o.attrsAsData||"string"==typeof o.attrsAsData&&o.attrsAsData==n[r].name||o.attrsAsData instanceof Array&&-1!=e.inArray(n[r].name,o.attrsAsData))&&a.data(n[r].name,n[r].value);if(o.attrs&&"ignore"==o.attrs)n=!1;else if(n)for(r=0;r<n.length;r++)n[r].value&&(ul.append(s=e("<li>").append(e("<span>",{text:n[r].value}).addClass("attrValue")).addClass("attr "+n[r].name).prepend(e("<span>",{text:"@"+n[r].name+":"}))),o.attrs&&"hidden"==o.attrs&&s.hide());var l=t.children();!l.length&&(!n.length||n.length&&o.attrs&&"hidden"==o.attrs)&&a.addClass("noKids");i=e("<span>",{text:i}).addClass("tree_node");if(l.length)this.delve_nextAppendTo=ul,LITxtHolder.prepend(t.immediateText()+(o.noDots?"":"..")).prepend(i),l.each((function(){d.delve(e(this))})),this.delve_nextAppendTo=this.delve_nextAppendTo.parent().parent();else{var p="<span onmouseover='XMLTree.prototype.onOver(this)'>"+t.text()+"</span>";LITxtHolder.prepend(p).prepend(i)}},XMLTree.prototype.actOnXML=function(t){var n=this;if(this.xml=e("string"==typeof t?function(e){window.DOMParser?(parser=new DOMParser,xmlDoc=parser.parseFromString(e,"text/xml")):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.loadXML(e));return xmlDoc}(t):t),i&&(this.xml=this.xml.children(":first")),o.XMLCallback&&(this.xml=o.XMLCallback(this.xml)),o.openAtPath){var r=this.xml.find(o.openAtPath);1==r.length&&r.attr("currSel","true")}this.xml.children().each((function(){n.delve(e(this))})),this.postBuild()},this instanceof XMLTree){var r;if(o.fpath||o.xml?o.container&&e(o.container).length||o.justReturn||(r="No container selector passed or does not match element in DOM"):r="neither XML nor path to XML file passed",!r){var a,s,l=e(o.container),c=Math.floor(1e7*Math.random()),d=this;return this.tree=i?l.children("ul"):e("<ul>"),this.instanceID=XMLTree.instancesCounter,XMLTree.instancesCounter++,i||(this.tree.addClass("xmltree"),o.startExpanded&&this.tree.addClass("startExpanded")),i&&this.tree.addClass("forcePlusMin"),o.justReturn||this.tree.appendTo(l),o.fpath?e.ajax({url:o.fpath,cache:null==o.cache||o.cache,dataType:o.jsonp?"jsonp":"xml"}).done((function(e){d.xml=e,d.actOnXML(e)})).error((function(){alert("XMLTree error - could not load XML from "+o.fpath)})):("string"==typeof o.xml&&(this.xml=o.xml.replace(/<(\/)?(\w+)([^>]*)>/g,(function(e,t,o,i){return"<"+(t||"")+o+"_"+c+(i||"")+">"})).replace(/<\?xml[^>]+>\s*/,"")),this.actOnXML(o.xml)),this.tree}alert("XMLTree error - "+r)}else window.console&&console.log&&console.log("XMLTree was called but not instantiated")},XMLTree.instancesCounter=0,e.fn.immediateText=function(){return e(this).clone().children().remove().end().text()}}(jQuery),function(e,t,o){function i(t,o){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=e(t),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=e.extend({},s,o),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function n(t,o){var i=!0;return e.each(t,(function(e,n){if(void 0===o[e]||t[e]!==o[e])return i=!1,!1})),i}function r(){return!c&&l}function a(){var e=(o.body||o.documentElement).style,t="transition";if("string"==typeof e[t])return!0;v=["Moz","Webkit","Khtml","O","ms"],t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof e[v[i]+t])return!0;return!1}var s={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(e){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};i.prototype={_init:function(){var t=this;if(o.querySelector){var i=null;void 0===t.$el.data("tooltipster-initialTitle")&&(void 0===(i=t.$el.attr("title"))&&(i=null),t.$el.data("tooltipster-initialTitle",i)),null!==t.options.content?t._content_set(t.options.content):t._content_set(i);var n=t.options.functionInit.call(t.$el,t.$el,t.Content);void 0!==n&&t._content_set(n),t.$el.removeAttr("title").addClass("tooltipstered"),!l&&t.options.iconDesktop||l&&t.options.iconTouch?("string"==typeof t.options.icon?(t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>'),t.$elProxy.text(t.options.icon)):t.options.iconCloning?t.$elProxy=t.options.icon.clone(!0):t.$elProxy=t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,"hover"==t.options.trigger?(t.$elProxy.on("mouseenter."+t.namespace,(function(){r()&&!t.options.touchDevices||(t.mouseIsOverProxy=!0,t._show())})).on("mouseleave."+t.namespace,(function(){r()&&!t.options.touchDevices||(t.mouseIsOverProxy=!1)})),l&&t.options.touchDevices&&t.$elProxy.on("touchstart."+t.namespace,(function(){t._showNow()}))):"click"==t.options.trigger&&t.$elProxy.on("click."+t.namespace,(function(){r()&&!t.options.touchDevices||t._show()}))}},_show:function(){var e=this;"shown"!=e.Status&&"appearing"!=e.Status&&(e.options.delay?e.timerShow=setTimeout((function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e._showNow()}),e.options.delay):e._showNow())},_showNow:function(o){var i=this;i.options.functionBefore.call(i.$el,i.$el,(function(){if(i.enabled&&null!==i.Content){o&&i.callbacks.show.push(o),i.callbacks.hide=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null,i.options.onlyOne&&e(".tooltipstered").not(i.$el).each((function(t,o){var i=e(o),n=i.data("tooltipster-ns");e.each(n,(function(e,t){var o=i.data(t),n=o.status(),r=o.option("autoClose");"hidden"!==n&&"disappearing"!==n&&r&&o.hide()}))}));var n=function(){i.Status="shown",e.each(i.callbacks.show,(function(e,t){t.call(i.$el)})),i.callbacks.show=[]};if("hidden"!==i.Status){var r=0;"disappearing"===i.Status?(i.Status="appearing",a()?(i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(n)):i.$tooltip.stop().fadeIn(n)):"shown"===i.Status&&n()}else{i.Status="appearing";r=i.options.speed;i.bodyOverflowX=e("body").css("overflow-x"),e("body").css("overflow-x","hidden");var s="tooltipster-"+i.options.animation,c="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",d=i.options.minWidth?"min-width:"+Math.round(i.options.minWidth)+"px;":"",p=i.options.maxWidth?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",u=i.options.interactive?"pointer-events: auto;":"";if(i.$tooltip=e('<div class="tooltipster-base '+i.options.theme+'" style="'+d+" "+p+" "+u+" "+c+'"><div class="tooltipster-content"></div></div>'),a()&&i.$tooltip.addClass(s),i._content_insert(),i.$tooltip.appendTo("body"),i.reposition(),i.options.functionReady.call(i.$el,i.$el,i.$tooltip),a()?(i.$tooltip.addClass(s+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(n)):i.$tooltip.css("display","none").fadeIn(i.options.speed,n),i._interval_set(),e(t).on("scroll."+i.namespace+" resize."+i.namespace,(function(){i.reposition()})),i.options.autoClose)if(e("body").off("."+i.namespace),"hover"==i.options.trigger){if(l&&setTimeout((function(){e("body").on("touchstart."+i.namespace,(function(){i.hide()}))}),0),i.options.interactive){l&&i.$tooltip.on("touchstart."+i.namespace,(function(e){e.stopPropagation()}));var f=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",(function(){clearTimeout(f),f=setTimeout((function(){i.hide()}),i.options.interactiveTolerance)})).on("mouseenter."+i.namespace+"-autoClose",(function(){clearTimeout(f)}))}else i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",(function(){i.hide()}));i.options.hideOnClick&&i.$elProxy.on("click."+i.namespace+"-autoClose",(function(){i.hide()}))}else"click"==i.options.trigger&&(setTimeout((function(){e("body").on("click."+i.namespace+" touchstart."+i.namespace,(function(){i.hide()}))}),0),i.options.interactive&&i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,(function(e){e.stopPropagation()})))}i.options.timer>0&&(i.timerHide=setTimeout((function(){i.timerHide=null,i.hide()}),i.options.timer+r))}}))},_interval_set:function(){var t=this;t.checkInterval=setInterval((function(){if(0===e("body").find(t.$el).length||0===e("body").find(t.$elProxy).length||"hidden"==t.Status||0===e("body").find(t.$tooltip).length)"shown"!=t.Status&&"appearing"!=t.Status||t.hide(),t._interval_cancel();else if(t.options.positionTracker){var o=t._repositionInfo(t.$elProxy),i=!1;n(o.dimension,t.elProxyPosition.dimension)&&("fixed"===t.$elProxy.css("position")?n(o.position,t.elProxyPosition.position)&&(i=!0):n(o.offset,t.elProxyPosition.offset)&&(i=!0)),i||(t.reposition(),t.options.positionTrackerCallback.call(t,t.$el))}}),200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(e){"object"==typeof e&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.Content=e},_content_insert:function(){var e=this,t=this.$tooltip.find(".tooltipster-content");"string"!=typeof e.Content||e.options.contentAsHTML?t.empty().append(e.Content):t.text(e.Content)},_update:function(e){var t=this;t._content_set(e),null!==t.Content?"hidden"!==t.Status&&(t._content_insert(),t.reposition(),t.options.updateAnimation&&(a()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout((function(){"hidden"!=t.Status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout((function(){"hidden"!==t.Status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})}),t.options.speed))}),t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,(function(){"hidden"!=t.Status&&t.$tooltip.fadeTo(t.options.speed,1)})))):t.hide()},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(o){var i=this;o&&i.callbacks.hide.push(o),i.callbacks.show=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null;var n=function(){e.each(i.callbacks.hide,(function(e,t){t.call(i.$el)})),i.callbacks.hide=[]};if("shown"==i.Status||"appearing"==i.Status){i.Status="disappearing";var r=function(){i.Status="hidden","object"==typeof i.Content&&null!==i.Content&&i.Content.detach(),i.$tooltip.remove(),i.$tooltip=null,e(t).off("."+i.namespace),e("body").off("."+i.namespace).css("overflow-x",i.bodyOverflowX),e("body").off("."+i.namespace),i.$elProxy.off("."+i.namespace+"-autoClose"),i.options.functionAfter.call(i.$el,i.$el),n()};a()?(i.$tooltip.clearQueue().removeClass("tooltipster-"+i.options.animation+"-show").addClass("tooltipster-dying"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(r)):i.$tooltip.stop().fadeOut(i.options.speed,r)}else"hidden"==i.Status&&n();return i},show:function(e){return this._showNow(e),this},update:function(e){return this.content(e)},content:function(e){return void 0===e?this.Content:(this._update(e),this)},reposition:function(){var o=this;if(0!==e("body").find(o.$tooltip).length){o.$tooltip.css("width",""),o.elProxyPosition=o._repositionInfo(o.$elProxy);var i=null,n=e(t).width(),r=o.elProxyPosition,a=o.$tooltip.outerWidth(!1),s=(o.$tooltip.innerWidth(),o.$tooltip.outerHeight(!1));if(o.$elProxy.is("area")){var l=o.$elProxy.attr("shape"),c=o.$elProxy.parent().attr("name"),d=e('img[usemap="#'+c+'"]'),p=d.offset().left,u=d.offset().top,f=void 0!==o.$elProxy.attr("coords")?o.$elProxy.attr("coords").split(","):void 0;if("circle"==l){var h=parseInt(f[0]),m=parseInt(f[1]),v=parseInt(f[2]);r.dimension.height=2*v,r.dimension.width=2*v,r.offset.top=u+m-v,r.offset.left=p+h-v}else if("rect"==l){h=parseInt(f[0]),m=parseInt(f[1]);var g=parseInt(f[2]),$=parseInt(f[3]);r.dimension.height=$-m,r.dimension.width=g-h,r.offset.top=u+m,r.offset.left=p+h}else if("poly"==l){for(var y=0,x=0,w=0,b=0,T="even",C=0;C<f.length;C++){var S=parseInt(f[C]);"even"==T?(S>w&&(w=S,0===C&&(y=w)),S<y&&(y=S),T="odd"):(S>b&&(b=S,1==C&&(x=b)),S<x&&(x=S),T="even")}r.dimension.height=b-x,r.dimension.width=w-y,r.offset.top=u+x,r.offset.left=p+y}else r.dimension.height=d.outerHeight(!1),r.dimension.width=d.outerWidth(!1),r.offset.top=u,r.offset.left=p}var E=0,L=0,k=0,j=parseInt(o.options.offsetY),M=parseInt(o.options.offsetX),D=o.options.position;function A(){var o=e(t).scrollLeft();E-o<0&&(i=E-o,E=o),E+a-o>n&&(i=E-(n+o-a),E=n+o-a)}function _(o,i){r.offset.top-e(t).scrollTop()-s-j-12<0&&i.indexOf("top")>-1&&(D=o),r.offset.top+r.dimension.height+s+12+j>e(t).scrollTop()+e(t).height()&&i.indexOf("bottom")>-1&&(D=o,k=r.offset.top-s-j-12)}if("top"==D){var R=r.offset.left+a-(r.offset.left+r.dimension.width);E=r.offset.left+M-R/2,k=r.offset.top-s-j-12,A(),_("bottom","top")}if("top-left"==D&&(E=r.offset.left+M,k=r.offset.top-s-j-12,A(),_("bottom-left","top-left")),"top-right"==D&&(E=r.offset.left+r.dimension.width+M-a,k=r.offset.top-s-j-12,A(),_("bottom-right","top-right")),"bottom"==D){R=r.offset.left+a-(r.offset.left+r.dimension.width);E=r.offset.left-R/2+M,k=r.offset.top+r.dimension.height+j+12,A(),_("top","bottom")}if("bottom-left"==D&&(E=r.offset.left+M,k=r.offset.top+r.dimension.height+j+12,A(),_("top-left","bottom-left")),"bottom-right"==D&&(E=r.offset.left+r.dimension.width+M-a,k=r.offset.top+r.dimension.height+j+12,A(),_("top-right","bottom-right")),"left"==D){E=r.offset.left-M-a-12,L=r.offset.left+M+r.dimension.width+12;var N=r.offset.top+s-(r.offset.top+r.dimension.height);if(k=r.offset.top-N/2-j,E<0&&L+a>n){var O=2*parseFloat(o.$tooltip.css("border-width")),I=a+E-O;o.$tooltip.css("width",I+"px"),s=o.$tooltip.outerHeight(!1),E=r.offset.left-M-I-12-O,N=r.offset.top+s-(r.offset.top+r.dimension.height),k=r.offset.top-N/2-j}else E<0&&(E=r.offset.left+M+r.dimension.width+12,i="left")}if("right"==D){E=r.offset.left+M+r.dimension.width+12,L=r.offset.left-M-a-12;N=r.offset.top+s-(r.offset.top+r.dimension.height);if(k=r.offset.top-N/2-j,E+a>n&&L<0){O=2*parseFloat(o.$tooltip.css("border-width")),I=n-E-O;o.$tooltip.css("width",I+"px"),s=o.$tooltip.outerHeight(!1),N=r.offset.top+s-(r.offset.top+r.dimension.height),k=r.offset.top-N/2-j}else E+a>n&&(E=r.offset.left-M-a-12,i="right")}if(o.options.arrow){var X="tooltipster-arrow-"+D;if(o.options.arrowColor.length<1)var V=o.$tooltip.css("background-color");else V=o.options.arrowColor;if(i?"left"==i?(X="tooltipster-arrow-right",i=""):"right"==i?(X="tooltipster-arrow-left",i=""):i="left:"+Math.round(i)+"px;":i="","top"==D||"top-left"==D||"top-right"==D)var P=parseFloat(o.$tooltip.css("border-bottom-width")),F=o.$tooltip.css("border-bottom-color");else if("bottom"==D||"bottom-left"==D||"bottom-right"==D)P=parseFloat(o.$tooltip.css("border-top-width")),F=o.$tooltip.css("border-top-color");else if("left"==D)P=parseFloat(o.$tooltip.css("border-right-width")),F=o.$tooltip.css("border-right-color");else if("right"==D)P=parseFloat(o.$tooltip.css("border-left-width")),F=o.$tooltip.css("border-left-color");else P=parseFloat(o.$tooltip.css("border-bottom-width")),F=o.$tooltip.css("border-bottom-color");P>1&&P++;var U="";if(0!==P){var B="",J="border-color: "+F+";";-1!==X.indexOf("bottom")?B="margin-top: -"+Math.round(P)+"px;":-1!==X.indexOf("top")?B="margin-bottom: -"+Math.round(P)+"px;":-1!==X.indexOf("left")?B="margin-right: -"+Math.round(P)+"px;":-1!==X.indexOf("right")&&(B="margin-left: -"+Math.round(P)+"px;"),U='<span class="tooltipster-arrow-border" style="'+B+" "+J+';"></span>'}o.$tooltip.find(".tooltipster-arrow").remove();var W='<div class="'+X+' tooltipster-arrow" style="'+i+'">'+U+'<span style="border-color:'+V+';"></span></div>';o.$tooltip.append(W)}o.$tooltip.css({top:Math.round(k)+"px",left:Math.round(E)+"px"})}return o},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var t=this;t.hide(),t.$el[0]!==t.$elProxy[0]&&t.$elProxy.remove(),t.$el.removeData(t.namespace).off("."+t.namespace);var o=t.$el.data("tooltipster-ns");if(1===o.length){var i=null;"previous"===t.options.restoration?i=t.$el.data("tooltipster-initialTitle"):"current"===t.options.restoration&&(i="string"==typeof t.Content?t.Content:e("<div></div>").append(t.Content).html()),i&&t.$el.attr("title",i),t.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else o=e.grep(o,(function(e,o){return e!==t.namespace})),t.$el.data("tooltipster-ns",o);return t},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(e,t){return void 0===t?this.options[e]:(this.options[e]=t,this)},status:function(){return this.Status}},e.fn.tooltipster=function(){var t=arguments;if(0===this.length){if("string"==typeof t[0]){var o=!0;switch(t[0]){case"setDefaults":e.extend(s,t[1]);break;default:o=!1}return!!o||this}return this}if("string"==typeof t[0]){var n="#*$~&";return this.each((function(){var o=e(this).data("tooltipster-ns"),i=o?e(this).data(o[0]):null;if(!i)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof i[t[0]])throw new Error('Unknown method .tooltipster("'+t[0]+'")');var r=i[t[0]](t[1],t[2]);if(r!==i)return n=r,!1})),"#*$~&"!==n?n:this}var r=[],a=t[0]&&void 0!==t[0].multiple,l=a&&t[0].multiple||!a&&s.multiple,c=t[0]&&void 0!==t[0].debug,d=c&&t[0].debug||!c&&s.debug;return this.each((function(){var o=!1,n=e(this).data("tooltipster-ns"),a=null;n?l?o=!0:d&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):o=!0,o&&(a=new i(this,t[0]),n||(n=[]),n.push(a.namespace),e(this).data("tooltipster-ns",n),e(this).data(a.namespace,a)),r.push(a)})),l?r:this};var l=!!("ontouchstart"in t),c=!1;e("body").one("mousemove",(function(){c=!0}))}(jQuery,window,document);var editorAce,editorResult,viewname,mode,editor,isXmlData=!0,converted="",arr=[],flag=!0,json="";function setToEditor(e){isXmlData=!0,"xmlviewer"!=viewname&&"xmlvalidate"!=viewname&&"xml-to-excel-converter"!=viewname&&"online-xml-editor"!=viewname&&editorResult.getSession().setMode("ace/mode/json"),editorAce.setValue(e),"xmlviewer"==viewname?xmlTreeView():"xml-to-csv-converter"==viewname?xmlTocsv():"xml-to-yaml"==viewname?XMLToYAML():"xmltojson"==viewname?xmlTojson():"opmlviewer"==viewname?xmlTreeView():"xmlvalidate"==viewname?validateXML():"online-xml-editor"==viewname?xmlTreeView():"xml-to-java-converter"==viewname&&convertXMLToJava()}function xmlTreeView(){isXmlData=!0;var e=editorAce.getValue();if(e.trim().length>0){var t=vkbeautify.xml(e);$("#result1").html(""),$("#result1").show(),$("#result").hide(),new XMLTree({xml:t.trim(),container:"#result1",startExpanded:!0}),setOutputMsg("XML Tree View")}else $("#result1").html("")}function FormatXML(){isXmlData=!0,editorResult.getSession().setMode("ace/mode/xml"),$("#result").show(),$("#result1").hide();var e=editorAce.getValue();if(e.trim().length>0){var t=vkbeautify.xml(e);editorResult.setValue(t),setOutputMsg("Beautify XML")}}function showJSON(){isXmlData=!1,editorResult.getSession().setMode("ace/mode/json"),$("#result").show(),$("#result1").hide();var e=editorAce.getValue();if(e.trim().length>0)try{if("undefined"==typeof X2JS)return void $.loadScript("https://cdnjs.cloudflare.com/ajax/libs/x2js/1.2.0/xml2json.min.js",(function(){showJSON()}));var t=new X2JS;editorResult.setValue(vkbeautify.json(JSON.stringify(t.xml_str2json(e)))),setOutputMsg("XML to JSON")}catch(e){openErrorDialog("invalid XML"+e)}}function MinifyXML(){isXmlData=!0,editorResult.getSession().setMode("ace/mode/xml"),$("#result").show(),$("#result1").hide();var e=editorAce.getValue();if(editorResult.getSession().setUseWrapMode(!0),e.trim().length>0){var t=vkbeautify.xmlmin(vkbeautify.xml(e));editorResult.setValue(t),setOutputMsg("Minify XML")}}function createXMLFile(){var e=editorAce.getValue();if(e.trim().length>0){var t="";if(null!=(t=$("#result1").is(":visible")?vkbeautify.xml(e):editorResult.getValue())&&""!=t&&t.trim().length>0){var o=new Blob([""+t],{type:"text/plain;charset=utf-8"}),i="codebeautify.xml";0==isXmlData&&(i="codebeautify.json"),fileDownloadCB(o,i)}else openErrorDialog("Sorry Result is Empty")}}function getText(e,t,o){$(t,e).each((function(){o.push($(this).text())}))}function xmlTocsv(){var e=editorAce.getValue(),t="";if(null!=e&&0!=e.trim().length){try{t=$.parseXML(e)}catch(e){openErrorDialog("Invalid XML")}if("undefined"==typeof X2JS)return void $.loadScript("https://cdnjs.cloudflare.com/ajax/libs/x2js/1.2.0/xml2json.min.js",(function(){xmlTocsv()}));e=(new X2JS).xml2json(t),setOutputMsg("XML TO CSV"),jsonTocsvbyjson(e)}}function xmlToarray(){$.ajax({type:"post",url:globalurl+"convter",dataType:"json",data:{type:"xml2array",data:editorAce.getValue()},success:function(e){console.log(e),console.log(Papa.unparse(e))},error:function(e,t,o){openErrorDialog("Failed to load data="+t)}})}function XMLToYAML(){editorResult.getSession().setMode("ace/mode/yaml");var e=editorAce.getValue();if(e.trim().length>0)try{if("undefined"==typeof X2JS)return void $.loadScript("https://cdnjs.cloudflare.com/ajax/libs/x2js/1.2.0/xml2json.min.js",(function(){XMLToYAML()}));var t=new X2JS;data=t.xml_str2json(e.trim()),data=json2yaml(data),editorResult.setValue(data),setOutputMsg("XML TO YAML")}catch(e){var o="";o=o+"Error : "+e.message,o=(o+="\n")+"Line : "+e.parsedLine+"  "+e.snippet,editorResult.setValue(o),setOutputMsg("Invalid XML")}}function xmlTojson(){var e=editorAce.getValue();if(e.trim().length>0){$("#json").show(),$("#xml").hide();try{if("undefined"==typeof X2JS)return void $.loadScript("https://cdnjs.cloudflare.com/ajax/libs/x2js/1.2.0/xml2json.min.js",(function(){xmlTojson()}));var t=new X2JS,o=vkbeautify.json(t.xml_str2json(e));isJsonData=!0,editorResult.getSession().setMode("ace/mode/json"),$("#json").hide(),$("#xml").show(),editorResult.getSession().setUseWrapMode(!1),editorResult.setValue(o),setOutputMsg("XML to JSON"),$(".jsoneditor").removeAttr("height")}catch(e){console.log(e),0!="".length&&openErrorDialog("invalid XML")}}}function validateXML(){if(" "!=validate(editorAce.getValue().trim())&&editorAce.getValue().trim().length>0){var e=editorAce.getValue();if(null!=e&&""!=e&&e.trim().length>0)if(window.ActiveXObject)if((i=new ActiveXObject("Microsoft.XMLDOM")).async=!1,i.loadXML(document.all(e).value),0!=i.parseError.errorCode){var t="Error Code: "+i.parseError.errorCode+"\n";t=(t=t+"Error Reason: "+i.parseError.reason)+"Error Line: "+i.parseError.line,$("#hResult").show(),$("#editor").css({border:"1px solid #FBC2C4"}),$("#hResult").removeClass(),$("#hResult").addClass("error"),$("#hResult").text(t)}else{if($("#hResult").show(),$("#hResult").removeClass(),$("#hResult").addClass("success"),$("#editor").css({border:"1px solid #C6D880"}),$("#hResult").text("Valid XML"),(n=editorAce.getValue()).trim().length>0){var o=vkbeautify.xml(n);editorAce.setValue(o),editorAce.clearSelection()}}else if(document.implementation.createDocument){try{var i=(new DOMParser).parseFromString(e,"application/xml")}catch(e){$("#hResult").show(),$("#editor").css({border:"1px solid #FBC2C4"}),$("#hResult").removeClass(),$("#hResult").addClass("error"),$("#hResult").text(e.message)}var n;if(i.getElementsByTagName("parsererror").length>0)checkErrorXML(i.getElementsByTagName("parsererror")[0]),$("#hResult").show(),$("#editor").css({border:"1px solid #FBC2C4"}),$("#hResult").removeClass(),$("#hResult").addClass("error"),$("#hResult").text(xt);else if($("#hResult").show(),$("#hResult").removeClass(),$("#hResult").addClass("success"),$("#editor").css({border:"1px solid #C6D880"}),$("#hResult").text("Valid XML"),(n=editorAce.getValue()).trim().length>0){o=vkbeautify.xml(n);editorAce.setValue(o),editorAce.clearSelection()}}else alert("Your browser cannot handle XML validation")}else $("#editor").css({border:"1px solid #BCBDBA"}),$("#hResult").hide()}$(document).ready((function(){if("xmlviewer"==(viewname=$("#viewName").val().trim()))setViewTitle("XML Viewer",!0,!0),createEditor("xml","xml");else if("xml-to-csv-converter"==viewname)setViewTitle("XML TO CSV Converter",!0,!0),createEditor("xml","text");else if("xml-to-yaml"==viewname)setViewTitle("XML TO YAML Converter",!0,!0),createEditor("xml","yaml");else if("xmltojson"==viewname){mode=document.getElementById("mode");document.getElementById("jsoneditor");setViewTitle("XML TO JSON Converter",!0,!0),createEditor("xml","json")}else"xmlvalidate"==viewname?(setViewTitle("XML Validator",!0,!0),createEditor("xml")):"online-xml-editor"==viewname?(setViewTitle("Online XML EDITOR",!0,!0),createEditor("xml"),editorAce.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!1})):"xml-to-excel-converter"==viewname?(createEditor("xml"),setViewTitle("Online XML TO EXCEL Converter",!0,!0)):"xml-to-java-converter"==viewname?(setViewTitle("XML TO JAVA Converter",!0,!0),createEditor("xml","java")):"opmlviewer"==viewname&&(setViewTitle("OPML Viewer",!0,!0),createEditor("xml","xml"))}));var xt="",h3OK=1;function checkErrorXML(e){xt="",h3OK=1,checkXML(e)}function checkXML(e){var t,o,i=e.nodeName;if("h3"==i){if(0==h3OK)return;h3OK=0}for("#text"==i&&(xt=xt+e.nodeValue+"\n"),t=e.childNodes.length,o=0;o<t;o++)checkXML(e.childNodes[o])}function validate(e){return null==e||null==e||""==e?"":e}function clearXML(){editorAce.setValue(""),$("#hResult").hide()}function convertXMLToJava(){try{var e=editorAce.getValue();if(0==e.trim().length)return!1;if("undefined"==typeof X2JS)return void $.loadScript("https://cdnjs.cloudflare.com/ajax/libs/x2js/1.2.0/xml2json.min.js",(function(){convertXMLToJava()}));var t=new X2JS,o=vkbeautify.json(t.xml_str2json(e));console.log(o),createJavaObject(o)}catch(e){editorResult.setValue("Codebeautify Convert to Java Error : \n"+e)}}function downloadXMLFile(){if(editorAce.getValue().trim().length>0){var e=new Blob([""+editorAce.getValue()],{type:"text/plain;charset=utf-8"});"validate"!=converted?fileDownloadCB(e,"codebeautify.xml"):openErrorDialog("Yaml is not converted to JSON / XML ")}else openErrorDialog("Sorry Result is Empty")}function convertToCSV(e){if(editorAce.getValue().trim().length>0){var t="";if("xml"==e)t=editorAce.getValue();else if("json"==e){var o=editorAce.getValue();t=(new XML.ObjTree).writeXML(JSON.parse(o))}$.ajax({type:"post",url:globalurl+"convter",data:{type:"xml2csv",data:t},success:function(t){var o=new Blob([""+t],{type:"text/plain;charset=utf-8"});"xml"==e?fileDownloadCB(o,"xml2csv.csv"):"json"==e&&fileDownloadCB(o,"json2csv.csv")},error:function(e){openErrorDialog("Failed to Convert into CSV")}})}}